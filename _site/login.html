<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Log In</title>
				<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="icon" type="image/icon" href="favicon.png"/>
		<link rel="icon" type="image/icon" href="favicon.ico"/>

		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/nav.css">
		<link rel="stylesheet" href="css/footer.css">
		
		<link rel="stylesheet" href="css/forms.css">	
	</head>
	
	<body>
		<nav class="nav">
	<ul>
		<li><a href="index.html" class="logo" title="Home">FitBox.</a></li>				
		<li><a href="about.html" title="About">About</a></li>
		<li><a href="why_fitbox.html" title="Why FitBox">Why FitBox</a></li>
		<li><a href="sneakpeak.html" title="Sneak Peak">Sneak Peek</a></li>
		<li><a href="purchase.html" title="Get FitBox">Get the box</a></li>
		<li><a href="contact.html" title="Contact">Contact</a></li>
		<li><a href="login.html" title="Log in">Log in</a></li>
	</ul>
</nav>
		<section class="userform">
			<h1>Welcome back!</h1>
			
			<form id="login" name="login" method="POST" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>">
				
				<label for="email">Email: <br /></label>
				<input type="text" name="email" id="email" placeholder="Email">
				
				<label for="password">Password: <br /></label>
				<input type="password" name="password" id="password" placeholder="Password">
				
				<button type="submit" class="button" title="Log in">Log in</button>
				
				<input type="hidden" name="login" value="login">
			</form>
			
			<p><a href="register.html" title="Sign up">New to FitBox? Sign up here.</a></p>
			
			<p><?php
	// Some functions
	include 'forms/forms_function.php';
	
	// Variables to hold values
	$loginEmail = "";
	$loginPassword = "";
	
	// Error messages
	$loginEmailError = "Please enter a valid email.";
	$loginPasswordError = "Please enter a valid password. It cannot be empty, must contain at least 8 characters, with at least 1 uppercase, 1 lowercase, and 1 number.";
	
	// Form validation
	// checks method
	if ($_SERVER["REQUEST_METHOD"] == "POST") 
	{
		// checks for the correct form
		if ($_POST["login"] == "login") 
		{
			// checks if email is empty
			if (empty($_POST["email"])) 
				displayError($loginEmailError);
			// checks if password is empty
			if (empty($_POST["password"])) 
				displayError($loginPasswordError);
			
			// only parse data if they are not empty
			if (!empty($_POST["email"]) && !empty($_POST["password"])) 
			{
				// trims input data
				$loginEmail = modifyInput($_POST["email"]);
				$loginPassword = modifyInput($_POST["password"]);
				// validates data
				if (!filter_var($loginEmail, FILTER_VALIDATE_EMAIL)) 
					displayError($loginEmailError);
				if (validatePassword($loginPassword) != 0)
					displayError($loginPasswordError);
				
				// once validated, welcome user 
				else
					displayMessage($loginEmail, $_POST["login"]);
			}
		}
	}		
?>
</p>		
		</section>		
		<!-- svg icon sources -->
<svg height="0" width="0" style="display:none">
	<g id = "icon_fb">
		<circle style="fill:#3B5998;" cx="56.098" cy="56.098" r="56.098"/>
		<path style="fill:#FFFFFF;" d="M70.201,58.294h-10.01v36.672H45.025V58.294h-7.213V45.406h7.213v-8.34
		c0-5.964,2.833-15.303,15.301-15.303L71.56,21.81v12.51h-8.151c-1.337,0-3.217,0.668-3.217,3.513v7.585h11.334L70.201,58.294z"/>
	</g>
</svg>

<svg height="0" width="0" style="display:none">
	<g id="icon_t">
		<circle style="fill:#55ACEE;" cx="56.099" cy="56.098" r="56.098"/>
		<path style="fill:#F1F2F2;" d="M90.461,40.316c-2.404,1.066-4.99,1.787-7.702,2.109c2.769-1.659,4.894-4.284,5.897-7.417
		c-2.591,1.537-5.462,2.652-8.515,3.253c-2.446-2.605-5.931-4.233-9.79-4.233c-7.404,0-13.409,6.005-13.409,13.409
		c0,1.051,0.119,2.074,0.349,3.056c-11.144-0.559-21.025-5.897-27.639-14.012c-1.154,1.98-1.816,4.285-1.816,6.742
		c0,4.651,2.369,8.757,5.965,11.161c-2.197-0.069-4.266-0.672-6.073-1.679c-0.001,0.057-0.001,0.114-0.001,0.17
		c0,6.497,4.624,11.916,10.757,13.147c-1.124,0.308-2.311,0.471-3.532,0.471c-0.866,0-1.705-0.083-2.523-0.239
		c1.706,5.326,6.657,9.203,12.526,9.312c-4.59,3.597-10.371,5.74-16.655,5.74c-1.08,0-2.15-0.063-3.197-0.188
		c5.931,3.806,12.981,6.025,20.553,6.025c24.664,0,38.152-20.432,38.152-38.153c0-0.581-0.013-1.16-0.039-1.734
		C86.391,45.366,88.664,43.005,90.461,40.316L90.461,40.316z"/>
	</g>
</svg>

<svg height="0" width="0" style="display:none">
	<g id="icon_insta">
			<path style="fill:#6A453B;" d="M58.255,23.88H31.503c-4.27,0-7.744,3.474-7.744,7.744v26.752c0,4.27,3.474,7.745,7.744,7.745
			h26.752c4.27,0,7.745-3.474,7.745-7.745V31.624C66,27.354,62.526,23.88,58.255,23.88z M44.879,58.906
			c-7.667,0-13.905-6.238-13.905-13.906c0-7.667,6.238-13.905,13.905-13.905c7.668,0,13.906,6.238,13.906,13.905
			C58.785,52.667,52.546,58.906,44.879,58.906z M59.232,33.97c-1.815,0-3.291-1.476-3.291-3.29c0-1.814,1.476-3.29,3.291-3.29
			c1.814,0,3.29,1.476,3.29,3.29C62.522,32.494,61.046,33.97,59.232,33.97z"/>
		<path style="fill:#6A453B;" d="M44.879,36.971c-4.426,0-8.03,3.602-8.03,8.028c0,4.428,3.604,8.031,8.03,8.031
			c4.428,0,8.029-3.603,8.029-8.031C52.908,40.574,49.306,36.971,44.879,36.971z"/>
		<path style="fill:#6A453B;" d="M44.879,0C20.094,0,0,20.094,0,44.879c0,24.785,20.094,44.879,44.879,44.879
			c24.785,0,44.879-20.094,44.879-44.879C89.758,20.094,69.664,0,44.879,0z M71.875,58.376c0,7.511-6.109,13.62-13.62,13.62H31.503
			c-7.51,0-13.62-6.109-13.62-13.62V31.624c0-7.51,6.11-13.62,13.62-13.62h26.752c7.511,0,13.62,6.11,13.62,13.62V58.376z"/>
	</g>
</svg>
<!-- svg icon sources end -->

<!-- footer -->
<footer class="footer">
	<!-- footer social media -->
	<p>
		<a href="social_media.html" target="_blank" title="Facebook">
			<svg class="icon" viewBox="0 0 120 120">
				<use xlink:href="#icon_fb"></use>
			</svg> 
		</a>				
		
		<a href="social_media.html" target="_blank" title="Instagram">
			<svg class="icon" viewBox="0 0 95 95">
				<use xlink:href="#icon_insta"></use>
			</svg> 
		</a>				
		
		<a href="social_media.html" target="_blank" title="Twitter">
			<svg class="icon" viewBox="0 0 120 120">
				<use xlink:href="#icon_t"></use>
			</svg> 
		</a>
	</p>	
	
	<!-- footer links -->
	<div class="table">
		<ul class="unorderedList">
			<li><a href="about.html" title="About">About</a></li>
			<li><a href="faq.html" title="FAQ">FAQ</a></li>
			<li><a href="contact.html" title="Contact/Support">Support</a></li>
			<li><a href="privacy.html" title="Privacy">Privacy</a></li>
			<li><a href="terms.html" title="Terms">Terms</a></li>
		</ul>
	</div>
	
	<!-- footer search -->
	<p>
		<form id="search" name="search" method="get" action="">				
			<input id="searchValue" class="searchBar" type="text" placeholder="Enter to search" title="Enter to search">
			<button class="searchBtn" type="submit"></button>
		</form>
	</p>
	
	<!-- footer credits -->
	<p>				 
		<a href="mailto:xuan.liew@ucdconnect.ie" title="Email FitBox">&copy; 2018 FitBox.</a>
	</p>
</footer>
<!-- footer end -->


<script type="text/javascript" src="js/search.js"></script>

		<script src="js/background.js" type="text/javascript"></script>
	</body>
</html>